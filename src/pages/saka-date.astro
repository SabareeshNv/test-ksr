---
import BaseLayout from "@layouts/BaseLayout.astro";

const title = "Gregorian to Saka Calendar Converter | KeralaServiceRules.com";
const description =
  "Gregorian to Saka Calendar Converter | KeralaServiceRules.com";
---

<BaseLayout {title} {description}>
  <main class="wrapper py-6">
    <div
      class="mx-auto mt-6 grid max-w-screen-lg gap-8 md:grid-cols-2 md:gap-10 md:px-12 lg:gap-12"
    >
      <div>
        <h1 class="text-3xl leading-tight font-bold md:text-4xl">
          Convert Gregorian Date into Saka Calendar Date
        </h1>
        <p class="mt-4 text-lg lg:mt-8">
          Saka Calendar is the Official National Calendar of India, and as such
          is used in Government Gazettes and Court Judgements.
        </p>
      </div>

      <div class="flex flex-col">
        <label class="font-alegreya-sans mb-6 text-2xl" for="gregorian-date"
          >Select a Gregorian Date to convert</label
        >
        <input
          type="date"
          name="gregorian-date"
          id="gregorian-date"
          class="mb-6 w-full p-2.5 font-sans"
        />

        <button
          type="submit"
          id="btn-convert"
          class="bg-brand hover:bg-brand/95 focus:bg-brand/95 w-full rounded p-3 text-sm font-bold tracking-wide text-white uppercase"
          >Convert</button
        >

        <div id="result" class="mt-8 text-2xl font-bold lg:mt-10 lg:text-3xl">
        </div>
      </div>
    </div>
  </main>
</BaseLayout>

<script>
  import { convertToSaka } from "@utils/saka-date";

  const today = new Date();
  const day = String(today.getDate()).padStart(2, "0");
  const month = String(today.getMonth() + 1).padStart(2, "0"); // Months are 0-indexed, so we add 1
  const year = today.getFullYear();
  const formattedValue = `${year}-${month}-${day}`;

  const dateInput = document.getElementById(
    "gregorian-date",
  ) as HTMLInputElement;
  dateInput.value = formattedValue;

  const btn = document.getElementById("btn-convert");
  btn?.addEventListener("click", () => {
    convertToSaka();
  });
</script>
